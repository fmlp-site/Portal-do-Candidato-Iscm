<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Portal do Candidato</title>
  <style>
    /* Estilo geral da página */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      display: flex;
    }

    /* Estilo do menu lateral */
    .sidebar {
      width: 250px;
      background-color: #2c3e50;
      position: fixed;
      height: 100vh;
      padding-top: 20px;
      color: white;
    }

    /* Links do menu lateral */
    .sidebar a {
      display: block;
      color: white;
      padding: 15px;
      text-decoration: none;
      font-size: 16px;
    }

    /* Efeito de hover nos links */
    .sidebar a:hover {
      background-color: #34495e;
      color: #f1c40f;
    }

    /* Estilo do conteúdo principal */
    .content {
      margin-left: 250px;
      padding: 20px;
      width: 100%;
    }

    /* Título da página */
    h1 {
      color: #2c3e50;
    }
  </style>
</head>
<body>

  <!-- Menu Lateral -->
  <div class="sidebar">
    <h2>Portal do Candidato</h2>
    <a href="fazer-inscricao.html">Fazer Inscrição</a>
    <a href="consultar-inscricao.html">Consultar Inscrição</a>
    <a href="interpor-recurso.html">Interpor Recurso</a>
    <a href="consultar-resultado-recursos.html">Consultar Resultado dos Recursos</a>
    <a href="consultar-local-prova.html">Consultar Local de Prova</a>
    <a href="consultar-desempenho.html">Consultar Desempenho</a>
    <a href="fazer-matricula.html">Fazer Matrícula</a>
    <a href="consultar-matricula.html">Consultar Matrícula</a>
  </div>

  <!-- Conteúdo Principal -->
  <div class="content">
    <h1 id="saudacao">Bem-vindo ao Portal do Candidato</h1>
    <p>Utilize o menu ao lado para acessar as funcionalidades disponíveis.</p>
  </div>

  <script>
    // Verifica se o candidato está logado
    const cpfCandidato = localStorage.getItem('cpfCandidato');
    if (!cpfCandidato) {
      alert('Por favor, faça login primeiro.');
      window.location.href = 'login.html';
    } else {
      // Busca o nome do candidato no banco de dados RestDB.io
      fetch(`https://SEU-RESTDB-URL/rest/candidatos?q={"cpf": "${cpfCandidato}"}`, {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
          'x-apikey': 'SUA-API-KEY',
        }
      })
      .then(response => response.json())
      .then(data => {
        if (data.length > 0) {
          const nomeCandidato = data[0].nome; // Assume que o nome do candidato está no campo "nome"
          document.getElementById('saudacao').innerText = `Olá, ${nomeCandidato}!`;
        } else {
          alert('Não foi possível carregar seus dados. Faça login novamente.');
          localStorage.removeItem('cpfCandidato'); // Limpa o CPF no localStorage
          window.location.href = 'login.html';
        }
      })
      .catch(error => {
        console.error('Erro:', error);
        alert('Erro ao carregar informações. Tente novamente mais tarde.');
      });
    }
  </script>

</body>
</html>
